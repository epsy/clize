[tox]
<<<<<<< HEAD
envlist=test-{py27,pypy,py33,py34,py35,py36}
||||||| parent of f3e1fc0 (+ .github/workflows/tox.yml for Github Actions CI)
envlist=test-{py27,pypy,py33,py34,py35,py36,py37,py38}
=======
envlist=test-{py27,pypy,py34,py35,pypy3,py36,py37,py38,py39,py310}, coveralls, pyflakes
>>>>>>> f3e1fc0 (+ .github/workflows/tox.yml for Github Actions CI)
skipsdist=True
requires=
  virtualenv>=20

[tox:travis]
3.6 = py36, coveralls, pyflakes
3.7-dev = test-py37
nightly = test-py37
pypy3.3-5.2-alpha1 = test-pypy3

[gh-actions]
python =
    2.7: py27
    pypy2: pypy
    3.5: py35
    pypy3: pypy3
    3.6: py36
    3.7: py37
    3.8: py38
    3.9: py39, coveralls, pyflakes
    3.10-dev: py310

[testenv]
usedevelop=True
deps=
    unittest2
    repeated_test
    python-dateutil
    Pygments
    docs: sphinx
    docs: sphinx_rtd_theme
    cover: coverage
    coveralls: coverage<5.0
    coveralls: coveralls

commands=
    test: {posargs:{envbindir}/unit2}
    cover: coverage erase
    cover-all: -coverage run {posargs:-m unittest2}
    cover-util: -coverage run -m unittest2 clize.tests.test_util
    cover-help: -coverage run -m unittest2 clize.tests.test_help
    cover: coverage html
    cover-all: coverage report
    cover-util: coverage report --include 'clize/util.py'
    cover-help: coverage report --include 'clize/help.py'
    docs: {envbindir}/sphinx-build {toxinidir}/docs/ {toxinidir}/build/sphinx {posargs:}

[testenv:test-pypy]
download=true
setenv=
  VIRTUALENV_PIP=19

[testenv:coveralls]
passenv=TRAVIS TRAVIS_* GITHUB_*
commands=
    coverage run --source clize -m unittest2
    coveralls

[testenv:pyflakes]
deps=
    pyflakes
commands=
    pyflakes clize
